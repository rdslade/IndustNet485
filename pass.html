<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Permissions</title>
  <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
  <script language="JavaScript" src="js/support.js"></script>
  <script language="JavaScript" src="js/val_net.js"></script>
  <script language="JavaScript" src="js/http.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/passStyle.css">

  
</head>

<body>
<div class="form">
      
    <ul class="tab-group">
        <li class="tab active"><a href="#signup">Sign Up</a></li>
        <li class="tab"><a href="#login">Log In</a></li>
    </ul>
      
      <div class="tab-content">
        <div id="signup">   
          <h1>Choose Permissions Option</h1>
          

<!--
          <div class="field-wrap">
            <label>
              Email Address<span class="req">*</span>
            </label>
            <input type="email"required autocomplete="off"/>
          </div>
          
          <div class="field-wrap">
            <label>
              Set A Password<span class="req">*</span>
            </label>
            <input type="password"required autocomplete="off"/>
          </div>
-->

        </div>
        
         <div id="login">   
          <h1>Welcome Back!</h1>
          
          <form action="/" method="post">
          
            <div class="field-wrap">
            <label>
              Username<span class="req">*</span>
            </label>
            <input class="inText" type="email"required autocomplete="off"/>
          </div>
          
          <div class="field-wrap">
            <label>
              Password<span class="req">*</span>
            </label>
            <input class="inText" type="password"required autocomplete="off"/>
          </div>
          
          <p class="forgot"><a href="#">Forgot Password?</a></p>
          
          <button class="button button-block"/>Log In</button>
          
          </form>

        </div>
        
    </div><!-- tab-content -->
    
</div> <!-- /form -->
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

  <script src="js/pass.js"></script>
  
  <script type="text/javascript">
      var fldVarPair = [
                ["usrname", "newuser.usrname"],
                ["pass", "newuser.pass"]
            ];
        function newCall(){
            var user = document.getElementById('user').value;
            var psw = document.getElementById('psw').value;
            fldVarPair[0][1] = "newuser.usrname";
            fldVarPair[1][1] = "newuser.pass";
            if(preReqCheck(user,psw,0)){
                processNewUser(user,psw)
            }
            return false;
        }
      function login(){
          var user = document.getElementById('userlog').value;
          var psw = document.getElementById('pswlog').value;
          fldVarPair[0][1] = "login.usrname";
          fldVarPair[1][1] = "login.pass";
          if(preReqCheck(user,psw,1)){
              processLogin(user,psw)
          }
          return false;
      }
      function preReqCheck(user,psw,func){
          if(user.length<3){
            if(func==0){
                document.getElementById('status').innerHTML = "Username must be a minimum of 3 characters"
                return false;
            }
            else{
                document.getElementById('welcome').innerHTML = "Username or password is incorrect"
                return false;
            }
          }
        else{
            if(psw.length<3){
                if(func==0){
                    document.getElementById('status').innerHTML = "Password must be a minimum of 3 characters"
                    return false
                }
                else{
                    document.getElementById('welcome').innerHTML = "Username or password is incorrect"
                    return false
                }

            }
            else{
                if(func==0){
                    document.getElementById('status').innerHTML = "Creating new user..."
                    return true;
                }
                else{
                    document.getElementById('welcome').innerHTML = "Passed prePost checks..."
                    return true;
                }
            }
        }
      }
    function processNewUser(u,p)
        {
          var setList = "";
          setList = appendSetPair(setList, "usrname", u);
          setList = appendSetPair(setList, "pass", p);

          HTTP.post("cgi-bin/set_cfg", setList, procPostReply);

          return true;
        }
      function processLogin(u,p){
          var setList = "";
          setList = appendSetPair(setList, "usrname", u);
          setList = appendSetPair(setList, "pass", p);
          HTTP.post("cgi-bin/set_cfg", setList, procPostReply);

          return true; 
      }
  </script>

</body>
</html>

